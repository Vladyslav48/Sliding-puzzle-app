{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { auth, projectFirestore } from '../firebase';\n\nconst useFirestore = collection => {\n  _s();\n\n  const [docs, setDocs] = useState([]);\n  const currentUserId = auth.currentUser.uid;\n  const [user, setUser] = useState(currentUserId); //retrives the images from DB in real time\n\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection).doc(user).onSnapshot(doc => {\n      let docData = doc.data();\n      console.log(docData);\n      let userImgs = [];\n      docData.images.map(img => {\n        userImgs.push({\n          id: img.id,\n          url: img.url\n        });\n      });\n      setDocs(userImgs);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\n_s(useFirestore, \"aZwQCuxb6VdTtFxTE/XX8tHriGs=\");\n\nexport default useFirestore;","map":{"version":3,"sources":["C:/Users/Vlad/Desktop/sliding-puzzle-app-main/sliding-puzzle-app/src/hooks/useFirestore.js"],"names":["useState","useEffect","auth","projectFirestore","useFirestore","collection","docs","setDocs","currentUserId","currentUser","uid","user","setUser","unsub","doc","onSnapshot","docData","data","console","log","userImgs","images","map","img","push","id","url"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,gBAAf,QAAuC,aAAvC;;AAGA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AAAA;;AACnC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMQ,aAAa,GAAGN,IAAI,CAACO,WAAL,CAAiBC,GAAvC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAACQ,aAAD,CAAhC,CAHmC,CAKnC;;AACAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,KAAK,GAAGV,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCS,GAAxC,CAA4CH,IAA5C,EAAkDI,UAAlD,CAA6DD,GAAG,IAAI;AAChF,UAAIE,OAAO,GAAGF,GAAG,CAACG,IAAJ,EAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,UAAII,QAAQ,GAAG,EAAf;AACAJ,MAAAA,OAAO,CAACK,MAAR,CAAeC,GAAf,CAAmBC,GAAG,IAAE;AACtBH,QAAAA,QAAQ,CAACI,IAAT,CAAc;AAAEC,UAAAA,EAAE,EAAEF,GAAG,CAACE,EAAV;AAAcC,UAAAA,GAAG,EAAEH,GAAG,CAACG;AAAvB,SAAd;AACD,OAFD;AAGAnB,MAAAA,OAAO,CAACa,QAAD,CAAP;AAED,KATa,CAAd;AAYA,WAAO,MAAMP,KAAK,EAAlB;AACD,GAdQ,EAcN,CAACR,UAAD,CAdM,CAAT;AAgBA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CAvBD;;GAAMF,Y;;AAyBN,eAAeA,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { auth, projectFirestore } from '../firebase';\n\n\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n  const currentUserId = auth.currentUser.uid\n  const [user, setUser] = useState(currentUserId);\n\n  //retrives the images from DB in real time\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection).doc(user).onSnapshot(doc => {\n      let docData = doc.data()\n      console.log(docData)\n      let userImgs = []\n      docData.images.map(img=>{\n        userImgs.push({ id: img.id, url: img.url})\n      })\n      setDocs(userImgs)\n      \n    })\n\n\n    return () => unsub();\n  }, [collection]);\n  \n  return { docs };\n}\n\nexport default useFirestore;\n\n"]},"metadata":{},"sourceType":"module"}