{"ast":null,"code":"import _slicedToArray from\"C:/Users/Vlad/Desktop/sliding-puzzle-app-main/sliding-puzzle-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{auth,projectFirestore}from'../firebase';var useFirestore=function useFirestore(collection){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docs=_useState2[0],setDocs=_useState2[1];var currentUserId=auth.currentUser.uid;var _useState3=useState(currentUserId),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];//retrives the images from DB in real time\nuseEffect(function(){var unsub=projectFirestore.collection(collection).doc(user).onSnapshot(function(doc){var docData=doc.data();console.log(docData);var userImgs=[];docData.images.map(function(img){userImgs.push({id:img.id,url:img.url});});setDocs(userImgs);});return function(){return unsub();};},[collection]);return{docs:docs};};export default useFirestore;","map":{"version":3,"sources":["C:/Users/Vlad/Desktop/sliding-puzzle-app-main/sliding-puzzle-app/src/hooks/useFirestore.js"],"names":["useState","useEffect","auth","projectFirestore","useFirestore","collection","docs","setDocs","currentUserId","currentUser","uid","user","setUser","unsub","doc","onSnapshot","docData","data","console","log","userImgs","images","map","img","push","id","url"],"mappings":"uLAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,CAAeC,gBAAf,KAAuC,aAAvC,CAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,UAAD,CAAgB,CACnC,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,aAAa,CAAGN,IAAI,CAACO,WAAL,CAAiBC,GAAvC,CACA,eAAwBV,QAAQ,CAACQ,aAAD,CAAhC,yCAAOG,IAAP,eAAaC,OAAb,eAEA;AACAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,KAAK,CAAGV,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCS,GAAxC,CAA4CH,IAA5C,EAAkDI,UAAlD,CAA6D,SAAAD,GAAG,CAAI,CAChF,GAAIE,CAAAA,OAAO,CAAGF,GAAG,CAACG,IAAJ,EAAd,CACAC,OAAO,CAACC,GAAR,CAAYH,OAAZ,EACA,GAAII,CAAAA,QAAQ,CAAG,EAAf,CACAJ,OAAO,CAACK,MAAR,CAAeC,GAAf,CAAmB,SAAAC,GAAG,CAAE,CACtBH,QAAQ,CAACI,IAAT,CAAc,CAAEC,EAAE,CAAEF,GAAG,CAACE,EAAV,CAAcC,GAAG,CAAEH,GAAG,CAACG,GAAvB,CAAd,EACD,CAFD,EAGAnB,OAAO,CAACa,QAAD,CAAP,CAED,CATa,CAAd,CAYA,MAAO,kBAAMP,CAAAA,KAAK,EAAX,EAAP,CACD,CAdQ,CAcN,CAACR,UAAD,CAdM,CAAT,CAgBA,MAAO,CAAEC,IAAI,CAAJA,IAAF,CAAP,CACD,CAvBD,CAyBA,cAAeF,CAAAA,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { auth, projectFirestore } from '../firebase';\n\n\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n  const currentUserId = auth.currentUser.uid\n  const [user, setUser] = useState(currentUserId);\n\n  //retrives the images from DB in real time\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection).doc(user).onSnapshot(doc => {\n      let docData = doc.data()\n      console.log(docData)\n      let userImgs = []\n      docData.images.map(img=>{\n        userImgs.push({ id: img.id, url: img.url})\n      })\n      setDocs(userImgs)\n      \n    })\n\n\n    return () => unsub();\n  }, [collection]);\n  \n  return { docs };\n}\n\nexport default useFirestore;\n\n"]},"metadata":{},"sourceType":"module"}